"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[4130],{74130:(rt,N,s)=>{s.r(N),s.d(N,{default:()=>nt});var c=s(10467),T=s(60177),t=s(54438),o=s(89417),S=s(88834),E=s(82765),C=s(86600),w=s(25084),u=s(75351),d=s(53719),g=s(99213),_=s(59042),G=s(59115),y=s(96695),x=s(82798),v=s(2042),m=s(9159),R=s(44549),$=s(21413),I=s(5271),b=s(3366),F=s(45794),k=s(46601);let D=(()=>{class i{constructor(e,a){this._apiService=e,this._toastService=a,this._data=(0,t.vPA)([]),this.isLoading=(0,t.vPA)(!1),this.isNotFound=(0,t.vPA)(!1)}Update(e){this._data.set(e)}fetchData(){var e=this;return(0,c.A)(function*(){e.isLoading.set(!0),e._apiService.get("api/V1/shifts-time").then(function(){var a=(0,c.A)(function*(n){e.isLoading.set(!1),e.isNotFound.set(!1),e._data.set(n.data),null!==n.data&&0!=n.data.length||e.isNotFound.set(!0)});return function(n){return a.apply(this,arguments)}}()).catch(function(){var a=(0,c.A)(function*(n){e.isLoading.set(!1),e.isNotFound.set(!0),e._toastService.error("Failed to fetch data","Error")});return function(n){return a.apply(this,arguments)}}())})()}static{this.\u0275fac=function(a){return new(a||i)(t.KVO(b.G),t.KVO(F.tw))}}static{this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})(),V=(()=>{class i{constructor(e,a,n,r,p,f,h){this._apiService=e,this.fb=a,this.toast=n,this.fuseConfirmationService=r,this._shiftTimingTableService=p,this.dialogRef=f,this.data=h,this.isLoading=!1}ngOnInit(){this.shiftTimeForm=this.fb.group({id:[null,[o.k0.required]],shift_name:[null,[o.k0.required]],start_time:[null,o.k0.required],end_time:[null,o.k0.required]})}onSubmit(){var e=this;return(0,c.A)(function*(){if(e.shiftTimeForm.invalid)e.toast.warning("Please Fill All Form","Warning");else try{e.isLoading=!0;const{status:n}=yield e._apiService.post("api/V1/shifts-time",{id:`${e.shiftTimeForm.value.id}`,shift_name:e.shiftTimeForm.value.shift_name,start_time:`${e.shiftTimeForm.value.start_time}:00`,end_time:`${e.shiftTimeForm.value.end_time}:00`});if(201===n)return e.toast.success("Success Create Shift Time","Success"),e._shiftTimingTableService.fetchData(),e.dialogRef.close(),void(e.isLoading=!1);if(500===n)return e.toast.error("Internal Server Error","Failed"),e.dialogRef.close(),void(e.isLoading=!1);409===n&&(e.isLoading=!1,e.fuseConfirmationService.open({title:"Notification",message:"The Shift Time already exists on the server. Would you like to create another shift time anyway?",icon:{color:"info"},actions:{confirm:{label:"Confirmation",color:"primary"}}}))}catch(a){throw a}})()}static{this.\u0275fac=function(a){return new(a||i)(t.rXU(b.G),t.rXU(o.ok),t.rXU(F.tw),t.rXU(k.G),t.rXU(D),t.rXU(u.CP),t.rXU(u.Vh))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-form-add-shift-time"]],standalone:!0,features:[t.aNF],decls:25,vars:4,consts:[[1,"h-full","w-full","flex","flex-col"],[1,"flex","justify-end"],[1,"w-auto",3,"click"],["mat-flat-button","","svgIcon","mat_solid:close",1,"self-end"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,""],[1,"bg-card","mt-2","flex","flex-col","overflow-hidden","rounded-2xl","p-8","pb-4","gap-5",3,"formGroup"],[1,"w-full"],["formControlName","id","type","number","matInput","",3,"placeholder"],["formControlName","shift_name","matInput","",3,"placeholder"],[1,"example-full-width"],["formControlName","start_time","matInput","","type","time"],["formControlName","end_time","matInput","","type","time"],["type","submit",1,"bg-green-600","text-white","p-2","rounded",3,"click"]],template:function(a,n){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"a",2),t.bIt("click",function(){return n.dialogRef.close()}),t.nrm(3,"mat-icon",3),t.k0s()(),t.nrm(4,"ion-loading",4),t.j41(5,"div",5)(6,"form",6)(7,"mat-form-field",7)(8,"mat-label"),t.EFF(9,"Shift Number"),t.k0s(),t.nrm(10,"input",8),t.k0s(),t.j41(11,"mat-form-field",7)(12,"mat-label"),t.EFF(13,"Shift Name"),t.k0s(),t.nrm(14,"input",9),t.k0s(),t.j41(15,"mat-form-field",10)(16,"mat-label"),t.EFF(17,"Start Time"),t.k0s(),t.nrm(18,"input",11),t.k0s(),t.j41(19,"mat-form-field",10)(20,"mat-label"),t.EFF(21,"End Time"),t.k0s(),t.nrm(22,"input",12),t.k0s(),t.j41(23,"button",13),t.bIt("click",function(){return n.onSubmit()}),t.EFF(24," Add Shift Times "),t.k0s()()()()),2&a&&(t.R7$(4),t.Y8G("isOpen",n.isLoading),t.R7$(2),t.Y8G("formGroup",n.shiftTimeForm),t.R7$(4),t.Y8G("placeholder","Shift Number"),t.R7$(4),t.Y8G("placeholder","Shift Name"))},dependencies:[o.X1,o.qT,o.me,o.Q0,o.BC,o.cb,o.j4,o.JD,o.YN,d.RG,d.rl,d.nJ,_.fS,_.fg,S.Hl,g.m_,g.An,I.rQ,w.X6,C.Sy,x.Ve,T.MD]})}}return i})(),X=(()=>{class i{constructor(e,a,n,r,p,f,h){this._apiService=e,this.fb=a,this.toast=n,this.fuseConfirmationService=r,this._shiftTimingTableService=p,this.dialogRef=f,this.data=h,this.isLoading=!1,this.id=h.id,this.fetchShiftTimeById()}ngOnInit(){this.shiftTimeForm=this.fb.group({shift_name:[null,[o.k0.required]],start_time:[null,o.k0.required],end_time:[null,o.k0.required]})}fetchShiftTimeById(){var e=this;return(0,c.A)(function*(){try{const a=yield e._apiService.get(`api/V1/shifts-time/${e.id}`);e.shiftTimeForm.patchValue({shift_name:a.data.shift_name,start_time:a.data.start_time,end_time:a.data.end_time})}catch(a){throw e.toast.error("Failed Get Shift Time By Id","Error"),a}})()}onSubmit(){var e=this;return(0,c.A)(function*(){if(e.shiftTimeForm.invalid)e.toast.warning("Please Fill All Form","Warning");else try{e.isLoading=!0;const{status:n}=yield e._apiService.post(`api/V1/shifts-time/${e.id}`,{shift_name:e.shiftTimeForm.value.shift_name,start_time:`${e.shiftTimeForm.value.start_time}`,end_time:`${e.shiftTimeForm.value.end_time}`});if(200===n)return e.toast.success("Success Update Shift Time","Success"),e._shiftTimingTableService.fetchData(),e.dialogRef.close(),void(e.isLoading=!1);if(500===n)return e.toast.error("Internal Server Error","Failed"),e.dialogRef.close(),void(e.isLoading=!1);409===n&&(e.isLoading=!1,e.fuseConfirmationService.open({title:"Notification",message:"The Shift Time already exists on the server. Would you like to create another shift time anyway?",icon:{color:"info"},actions:{confirm:{label:"Confirmation",color:"primary"}}}))}catch(a){throw a}})()}static{this.\u0275fac=function(a){return new(a||i)(t.rXU(b.G),t.rXU(o.ok),t.rXU(F.tw),t.rXU(k.G),t.rXU(D),t.rXU(u.CP),t.rXU(u.Vh))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-form-edit-shift-time"]],standalone:!0,features:[t.aNF],decls:21,vars:3,consts:[[1,"h-full","w-full","flex","flex-col"],[1,"flex","justify-end"],[1,"w-auto",3,"click"],["mat-flat-button","","svgIcon","mat_solid:close",1,"self-end"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,""],[1,"bg-card","mt-2","flex","flex-col","overflow-hidden","rounded-2xl","p-8","pb-4","gap-5",3,"formGroup"],[1,"w-full"],["formControlName","shift_name","matInput","",3,"placeholder"],[1,"example-full-width"],["formControlName","start_time","matInput","","type","time"],["formControlName","end_time","matInput","","type","time"],["type","submit",1,"bg-blue-600","text-white","p-2","rounded",3,"click"]],template:function(a,n){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"a",2),t.bIt("click",function(){return n.dialogRef.close()}),t.nrm(3,"mat-icon",3),t.k0s()(),t.nrm(4,"ion-loading",4),t.j41(5,"div",5)(6,"form",6)(7,"mat-form-field",7)(8,"mat-label"),t.EFF(9,"Shift Name"),t.k0s(),t.nrm(10,"input",8),t.k0s(),t.j41(11,"mat-form-field",9)(12,"mat-label"),t.EFF(13,"Start Time"),t.k0s(),t.nrm(14,"input",10),t.k0s(),t.j41(15,"mat-form-field",9)(16,"mat-label"),t.EFF(17,"End Time"),t.k0s(),t.nrm(18,"input",11),t.k0s(),t.j41(19,"button",12),t.bIt("click",function(){return n.onSubmit()}),t.EFF(20," Edit Shift Times "),t.k0s()()()()),2&a&&(t.R7$(4),t.Y8G("isOpen",n.isLoading),t.R7$(2),t.Y8G("formGroup",n.shiftTimeForm),t.R7$(4),t.Y8G("placeholder","Shift Name"))},dependencies:[o.X1,o.qT,o.me,o.BC,o.cb,o.j4,o.JD,o.YN,d.RG,d.rl,d.nJ,_.fS,_.fg,S.Hl,g.m_,g.An,I.rQ,w.X6,C.Sy,x.Ve,T.MD]})}}return i})();const A=()=>[5,10,20];function L(i,l){1&i&&(t.j41(0,"div",15),t.nrm(1,"div",16)(2,"div",16)(3,"div",16)(4,"div",16)(5,"div",16)(6,"div",16)(7,"div",17),t.k0s())}function U(i,l){1&i&&(t.j41(0,"div")(1,"div",18),t.nrm(2,"img",19),t.j41(3,"h1",20),t.EFF(4,"Data Not Found"),t.k0s()()())}function Y(i,l){1&i&&(t.j41(0,"mat-header-cell"),t.EFF(1," ID "),t.k0s())}function B(i,l){if(1&i&&(t.j41(0,"mat-cell",34),t.EFF(1),t.k0s()),2&i){const e=l.$implicit;t.R7$(),t.SpI(" ",e.id," ")}}function O(i,l){1&i&&(t.j41(0,"mat-header-cell"),t.EFF(1," Shift Name "),t.k0s())}function M(i,l){if(1&i&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&i){const e=l.$implicit;t.R7$(),t.SpI(" ",e.shift_name," ")}}function P(i,l){1&i&&(t.j41(0,"mat-header-cell"),t.EFF(1," Start Time "),t.k0s())}function H(i,l){if(1&i&&(t.j41(0,"mat-cell",6)(1,"p",35),t.EFF(2),t.k0s()()),2&i){const e=l.$implicit;t.R7$(2),t.JRh(e.start_time)}}function J(i,l){1&i&&(t.j41(0,"mat-header-cell"),t.EFF(1," End Time "),t.k0s())}function W(i,l){if(1&i&&(t.j41(0,"mat-cell",6)(1,"p",36),t.EFF(2),t.k0s()()),2&i){const e=l.$implicit;t.R7$(2),t.JRh(e.end_time)}}function Q(i,l){1&i&&(t.j41(0,"mat-header-cell",37),t.EFF(1," Action "),t.k0s())}function z(i,l){if(1&i){const e=t.RV6();t.j41(0,"div",39)(1,"a",40),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.handleDeleteShifTime(n.id))}),t.nrm(2,"mat-icon",41),t.k0s(),t.j41(3,"a",42),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.editShiftTime(n.id))}),t.nrm(4,"mat-icon",43),t.k0s()()}}function K(i,l){if(1&i&&(t.j41(0,"mat-cell"),t.DNE(1,z,5,0,"div",38),t.k0s()),2&i){const e=l.$implicit;t.R7$(),t.Y8G("ngIf","default-trial"!=e.name)}}function Z(i,l){1&i&&t.nrm(0,"mat-header-row")}function q(i,l){1&i&&t.nrm(0,"mat-row")}function tt(i,l){if(1&i&&(t.j41(0,"mat-table",21,1)(2,"div"),t.qex(3,22),t.DNE(4,Y,2,0,"mat-header-cell",23)(5,B,2,1,"mat-cell",24),t.bVm(),t.qex(6,25),t.DNE(7,O,2,0,"mat-header-cell",23)(8,M,2,1,"mat-cell",26),t.bVm(),t.qex(9,27),t.DNE(10,P,2,0,"mat-header-cell",23)(11,H,3,1,"mat-cell",28),t.bVm(),t.qex(12,29),t.DNE(13,J,2,0,"mat-header-cell",23)(14,W,3,1,"mat-cell",28),t.bVm(),t.qex(15,30),t.DNE(16,Q,2,0,"mat-header-cell",31)(17,K,2,1,"mat-cell",26),t.bVm(),t.DNE(18,Z,1,0,"mat-header-row",32)(19,q,1,0,"mat-row",33),t.k0s()()),2&i){const e=t.XpG();t.Y8G("dataSource",e.dataSource),t.R7$(18),t.Y8G("matHeaderRowDef",e.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",e.displayedColumns)}}const j=new Date,et=j.getMonth(),it=j.getFullYear();j.getDay();let at=(()=>{class i{constructor(e,a,n,r,p){this._apiService=e,this.fuseConfirmationService=a,this._shiftTimingService=n,this._matDialog=r,this._toastService=p,this.filterValues={search:"",category:[],products:[],status:[],priority:[]},this.shiftStatus=!0,this.ticketStatus=!1,this.statusList=["New","On Progress","Resolved"],this.productsItems=[],this.category=[],this.statusItems=[],this.priorityItems=[],this._unsubscribeAll=new $.B,this.displayedColumns=["id","shift_name","start_time","end_time","action"],this.dataSource=new m.I6,this.range=new o.gE({start:new o.MJ(new Date(it,et-1)),end:new o.MJ(new Date)}),this.formatDate=f=>f?R.c9.fromJSDate(new Date(f)).toISODate():null,this.formatTime=f=>{const h=new Date(f);return`${h.getHours().toString().padStart(2,"0")}:${h.getMinutes().toString().padStart(2,"0")}`},(0,t.QZP)(()=>{this.dataSource.data=this.datas})}get datas(){return this._shiftTimingService._data()}get isLoading(){return this._shiftTimingService.isLoading()}get isNotDataFound(){return this._shiftTimingService.isNotFound()}ngOnInit(){this._shiftTimingService.fetchData()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addShiftTime(){this._matDialog.open(V,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})}editShiftTime(e){this._matDialog.open(X,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw",data:{id:e}})}handleDeleteShifTime(e){this.fuseConfirmationService.open({title:"Konfirmasi Hapus",message:`Apakah Anda yakin ingin menghapus akun ${e}?`,actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(n=>{"confirmed"===n&&this.deleteShiftTime(e)})}deleteShiftTime(e){var a=this;return(0,c.A)(function*(){try{const{status:r}=yield a._apiService.delete(`api/V1/shifts-time/${e}`);return 200===r?(a._toastService.success("Success Delete Shift Time","Success"),void a._shiftTimingService.fetchData()):void a._toastService.error("Failed Delete Shift Time","Failed")}catch(n){throw a._toastService.error("Failed Delete Shift Time","Failed"),n}})()}static{this.\u0275fac=function(a){return new(a||i)(t.rXU(b.G),t.rXU(k.G),t.rXU(D),t.rXU(u.bZ),t.rXU(F.tw))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-table-shift-timing"]],viewQuery:function(a,n){if(1&a&&(t.GBs(v.B4,5),t.GBs(y.iy,5)),2&a){let r;t.mGM(r=t.lsd())&&(n.sort=r.first),t.mGM(r=t.lsd())&&(n.paginator=r.first)}},standalone:!0,features:[t.aNF],decls:16,vars:7,consts:[["paginator",""],["table",""],[1,"h-fit","border-[1px]","shadow-xl","mt-4","bg-white","rounded-lg","p-5"],[1,"flex","items-start","flex-row","sm:items-center","justify-between"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3","w-1/3","max-lg:w-full"],[1,"text-xl","font-semibold"],[1,"flex","items-center","gap-3"],["mat-raised-button","",1,"bg-blue-500","hover:bg-blue-600","text-white",3,"click"],["svgIcon","mat_outline:add",1,"text-white"],[1,"font-semibold"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"w-full","overflow-auto","whitespace-nowrap","mt-5"],["matSort","","class","min-w-160",3,"dataSource",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],[1,"flex","flex-col","items-center"],["src","icons/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"],["matSort","",1,"min-w-160",3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],["class","text-lg font-medium underline whitespace-nowrap",4,"matCellDef"],["matColumnDef","shift_name"],[4,"matCellDef"],["matColumnDef","start_time"],["class","flex items-center gap-3",4,"matCellDef"],["matColumnDef","end_time"],["matColumnDef","action","n",""],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"text-lg","font-medium","underline","whitespace-nowrap"],[1,"bg-blue-600","p-1.5","px-2.5","rounded-full","text-white"],[1,"bg-green-600","p-1.5","px-2.5","rounded-full","text-white"],["mat-sort-header",""],["class","flex items-center",4,"ngIf"],[1,"flex","items-center"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-red-500","hover:cursor-pointer","hover:bg-red-600","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-blue-500","hover:bg-blue-600","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:pencil-square",1,"text-white",2,"transform","scale(0.7)"]],template:function(a,n){if(1&a){const r=t.RV6();t.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h1",5),t.EFF(4,"Shift Timing"),t.k0s()(),t.j41(5,"div",6)(6,"button",7),t.bIt("click",function(){return t.eBV(r),t.Njj(n.addShiftTime())}),t.nrm(7,"mat-icon",8),t.j41(8,"span",9),t.EFF(9,"Add Shift Time"),t.k0s()()()(),t.DNE(10,L,8,0,"div",10)(11,U,5,0,"div",11),t.j41(12,"div",12),t.DNE(13,tt,20,3,"mat-table",13),t.k0s(),t.nrm(14,"mat-paginator",14,0),t.k0s()}2&a&&(t.R7$(10),t.Y8G("ngIf",n.isLoading),t.R7$(),t.Y8G("ngIf",n.isNotDataFound&&!n.isLoading),t.R7$(2),t.Y8G("ngIf",!n.isNotDataFound&&!n.isLoading&&0!=n.dataSource.data.length),t.R7$(),t.Y8G("pageSize",10)("pageSizeOptions",t.lJ4(6,A))("showFirstLastButtons",!0))},dependencies:[T.MD,T.bT,y.Ou,y.iy,u.hM,m.tP,m.Zl,m.tL,m.ji,m.cC,m.YV,m.iL,m.KS,m.$R,m.YZ,m.NB,o.X1,_.fS,v.NQ,v.B4,v.aE,g.An,G.Cn,E.g7,o.YN,d.RG,w.X6,x.Ve,C.Sy,S.Hl,S.$z],styles:[".mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%] {\n        display: none;\n    }"]})}}return i})();const nt=[{path:"",component:(()=>{class i{static{this.\u0275fac=function(a){return new(a||i)}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-shift-timing"]],standalone:!0,features:[t.aNF],decls:2,vars:0,consts:[[1,"p-4","h-full","w-full"]],template:function(a,n){1&a&&(t.j41(0,"main",0),t.nrm(1,"app-table-shift-timing"),t.k0s())},dependencies:[at]})}}return i})()}]}}]);