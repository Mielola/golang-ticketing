"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[6914],{76914:(Jt,v,s)=>{s.r(v),s.d(v,{default:()=>Ot});var g=s(74710),M=s(68589),k=s(10467),h=s(60177),p=s(89417),j=s(82765),w=s(86600),u=s(25084),S=s(75351),b=s(53719),L=s(99213),D=s(59042),f=s(59115),x=s(96695),R=s(82798),y=s(2042),d=s(9159),Y=s(21413),B=s(56977),E=s(88834),A=s(40171),P=s(89967),t=s(54438),$=s(3366),N=s(10801),O=s(84412),I=s(86648),V=s(88141),X=s(21626);let C=(()=>{class a{constructor(e,o){this._apiService=e,this._httpClient=o,this._data=new O.t(null),this.fetchData()}get data$(){return this._data.asObservable()}Update(e){this._data.next(e)}checkTickets(){return(0,I.H)(this._apiService.get("api/V1/check-tickets-deadline")).pipe((0,V.M)(e=>{}))}fetchData(){return(0,I.H)(this._apiService.get("api/V1/tickets")).pipe((0,V.M)(e=>{this._data.next(e)}))}static{this.\u0275fac=function(o){return new(o||a)(t.KVO($.G),t.KVO(X.Qq))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();const J=()=>["/dashboards/tickets/add-tickets"],_=()=>({disableClose:!0}),U=()=>[5,10,20],H=(a,i,e)=>({"bg-blue-500":a,"bg-yellow-500":i,"bg-green-500":e}),G=(a,i,e,o)=>({"text-green-600":a,"text-blue-600":i,"text-yellow-600":e,"text-red-600":o}),W=a=>["/dashboards/tickets",a];function Q(a,i){if(1&a){const e=t.RV6();t.j41(0,"mat-checkbox",47),t.mxI("ngModelChange",function(n){const l=t.eBV(e).$implicit;return t.DH7(l.checked,n)||(l.checked=n),t.Njj(n)}),t.bIt("click",function(n){return t.eBV(e),t.Njj(n.stopPropagation())})("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.applyProductsFilter())}),t.EFF(1),t.k0s()}if(2&a){const e=i.$implicit;t.R50("ngModel",e.checked),t.R7$(),t.SpI(" ",e.name," ")}}function z(a,i){if(1&a){const e=t.RV6();t.j41(0,"mat-checkbox",48),t.mxI("ngModelChange",function(n){const l=t.eBV(e).$implicit;return t.DH7(l.checked,n)||(l.checked=n),t.Njj(n)}),t.bIt("click",function(n){return t.eBV(e),t.Njj(n.stopPropagation())})("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.applyCategoryFilter())}),t.EFF(1),t.k0s()}if(2&a){const e=i.$implicit;t.R50("ngModel",e.checked),t.R7$(),t.JRh(e.name)}}function K(a,i){if(1&a){const e=t.RV6();t.j41(0,"mat-checkbox",47),t.mxI("ngModelChange",function(n){const l=t.eBV(e).$implicit;return t.DH7(l.checked,n)||(l.checked=n),t.Njj(n)}),t.bIt("click",function(n){return t.eBV(e),t.Njj(n.stopPropagation())})("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.applyStatusFilter())}),t.j41(1,"div",49)(2,"h1",50),t.EFF(3),t.k0s()()()}if(2&a){const e=i.$implicit;t.R50("ngModel",e.checked),t.R7$(),t.Y8G("ngClass",t.sMw(3,H,"New"===e.name,"On Progress"===e.name,"Resolved"===e.name)),t.R7$(2),t.JRh(e.name)}}function Z(a,i){if(1&a){const e=t.RV6();t.j41(0,"mat-checkbox",47),t.mxI("ngModelChange",function(n){const l=t.eBV(e).$implicit;return t.DH7(l.checked,n)||(l.checked=n),t.Njj(n)}),t.bIt("click",function(n){return t.eBV(e),t.Njj(n.stopPropagation())})("change",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.applyPriorityFilter())}),t.j41(1,"div",17),t.nrm(2,"mat-icon",51),t.j41(3,"h1",52),t.EFF(4),t.k0s()()()}if(2&a){const e=i.$implicit;t.R50("ngModel",e.checked),t.R7$(2),t.Y8G("ngClass",t.ziG(3,G,"Low"===e.name,"Hedium"===e.name,"High"===e.name,"Critical"===e.name)),t.R7$(2),t.JRh(e.name)}}function q(a,i){1&a&&(t.j41(0,"div",53),t.nrm(1,"div",54)(2,"div",54)(3,"div",54)(4,"div",54)(5,"div",54)(6,"div",54)(7,"div",55),t.k0s())}function tt(a,i){1&a&&(t.j41(0,"div",56)(1,"div",57),t.nrm(2,"img",58)(3,"br"),t.j41(4,"p",59),t.EFF(5,"Data Not Found"),t.k0s(),t.j41(6,"p",60),t.EFF(7,"try using a different keyword or add a new tickets"),t.k0s()()())}function et(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Tracking ID "),t.k0s())}function at(a,i){if(1&a&&(t.j41(0,"mat-cell",87)(1,"a",88),t.EFF(2),t.k0s()()),2&a){const e=i.$implicit;t.R7$(),t.Y8G("routerLink",t.eq3(2,W,e.tracking_id)),t.R7$(),t.JRh(e.tracking_id)}}function nt(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Ticket Entry Day "),t.k0s())}function it(a,i){if(1&a&&(t.j41(0,"mat-cell",17),t.nrm(1,"mat-icon",89),t.EFF(2),t.k0s()),2&a){const e=i.$implicit;t.R7$(2),t.SpI(" ",e.hari_masuk," ")}}function ot(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Ticket Entry Time "),t.k0s())}function lt(a,i){if(1&a&&(t.j41(0,"mat-cell",17),t.nrm(1,"mat-icon",90),t.EFF(2),t.k0s()),2&a){const e=i.$implicit;t.R7$(2),t.SpI(" ",e.waktu_masuk," ")}}function st(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Category "),t.k0s())}function ct(a,i){if(1&a&&(t.j41(0,"mat-cell",91),t.EFF(1),t.k0s()),2&a){const e=i.$implicit;t.R7$(),t.SpI(" ",e.category," ")}}function rt(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Users "),t.k0s())}function mt(a,i){1&a&&(t.j41(0,"div",53),t.nrm(1,"div",54),t.k0s())}function dt(a,i){if(1&a&&(t.j41(0,"mat-cell",92)(1,"div",93),t.nrm(2,"img",94),t.j41(3,"p",50),t.EFF(4),t.k0s()()()),2&a){const e=i.$implicit;t.R7$(2),t.Y8G("src",e.user.avatar,t.B4B),t.R7$(2),t.JRh(e.user.name)}}function pt(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," PIC "),t.k0s())}function ut(a,i){if(1&a&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&a){const e=i.$implicit;t.R7$(),t.SpI(" ",""==(null==e?null:e.pic)||null==(null==e?null:e.pic)?"Not Found":e.pic," ")}}function ht(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Subject "),t.k0s())}function ft(a,i){if(1&a&&(t.j41(0,"mat-cell",95),t.EFF(1),t.k0s()),2&a){const e=i.$implicit;t.R7$(),t.SpI(" ",e.subject," ")}}function _t(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Whatsapp Client "),t.k0s())}function gt(a,i){if(1&a&&(t.j41(0,"mat-cell")(1,"a",96),t.EFF(2),t.k0s()()),2&a){const e=i.$implicit;t.R7$(),t.Y8G("href","https://wa.me/"+(null==e?null:e.no_whatsapp),t.B4B),t.R7$(),t.SpI(" ",""===(null==e?null:e.no_whatsapp)?"Not Found":e.no_whatsapp," ")}}function kt(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Status "),t.k0s())}function bt(a,i){if(1&a){const e=t.RV6();t.j41(0,"mat-option",101),t.bIt("click",function(){const n=t.eBV(e).$implicit,l=t.XpG().$implicit,r=t.XpG(2);return t.Njj(r.changeStatus(l.tracking_id,n))}),t.EFF(1),t.k0s()}if(2&a){const e=i.$implicit;t.Y8G("value",e),t.R7$(),t.SpI(" ",e," ")}}function xt(a,i){if(1&a){const e=t.RV6();t.j41(0,"mat-cell",97)(1,"mat-form-field",98)(2,"mat-select",99),t.mxI("valueChange",function(n){const l=t.eBV(e).$implicit;return t.DH7(l.status,n)||(l.status=n),t.Njj(n)}),t.DNE(3,bt,2,2,"mat-option",100),t.k0s()()()}if(2&a){const e=i.$implicit,o=t.XpG(2);t.R7$(2),t.R50("value",e.status),t.Y8G("disabled","Resolved"===e.status||o.shiftStatus&&!o.isAdmin),t.R7$(),t.Y8G("ngForOf",o.statusList)}}function yt(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Solved Time "),t.k0s())}function Ct(a,i){if(1&a&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&a){const e=i.$implicit;t.R7$(),t.SpI(" ",""===e.solved_time||null===e.solved_time?"On Progress":e.solved_time,"")}}function Ft(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Last Replier "),t.k0s())}function Tt(a,i){1&a&&(t.j41(0,"div",53),t.nrm(1,"div",54),t.k0s())}function vt(a,i){if(1&a&&(t.j41(0,"mat-cell",102)(1,"div",93),t.nrm(2,"img",103),t.j41(3,"p",50),t.EFF(4),t.k0s()()()),2&a){const e=i.$implicit;t.R7$(2),t.Y8G("src",null===e.last_replier?e.user.avatar:e.last_replier.avatar,t.B4B),t.R7$(2),t.JRh(null===e.last_replier?e.user.name:e.last_replier.name)}}function jt(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Priority "),t.k0s())}function wt(a,i){if(1&a&&(t.j41(0,"mat-cell",17),t.nrm(1,"mat-icon",51),t.j41(2,"h1",52),t.EFF(3),t.k0s()()),2&a){const e=i.$implicit;t.R7$(),t.Y8G("ngClass",t.ziG(2,G,"Low"===e.priority,"Medium"===e.priority,"High"===e.priority,"Critical"===e.priority)),t.R7$(2),t.JRh(e.priority)}}function St(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Created Date "),t.k0s())}function Dt(a,i){if(1&a&&(t.j41(0,"mat-cell",17),t.nrm(1,"mat-icon",89),t.EFF(2),t.k0s()),2&a){const e=i.$implicit;t.R7$(2),t.SpI(" ",e.created_date," ")}}function Rt(a,i){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Created Time "),t.k0s())}function Et(a,i){if(1&a&&(t.j41(0,"mat-cell",17),t.nrm(1,"mat-icon",90),t.EFF(2),t.k0s()),2&a){const e=i.$implicit;t.R7$(2),t.SpI(" ",e.created_time," ")}}function $t(a,i){1&a&&t.nrm(0,"mat-header-row")}function Nt(a,i){1&a&&t.nrm(0,"mat-row")}function It(a,i){if(1&a&&(t.j41(0,"mat-table",61,7)(2,"div"),t.qex(3,62),t.DNE(4,et,2,0,"mat-header-cell",63)(5,at,3,4,"mat-cell",64),t.bVm(),t.qex(6,65),t.DNE(7,nt,2,0,"mat-header-cell",63)(8,it,3,1,"mat-cell",66),t.bVm(),t.qex(9,67),t.DNE(10,ot,2,0,"mat-header-cell",63)(11,lt,3,1,"mat-cell",66),t.bVm(),t.qex(12,68),t.DNE(13,st,2,0,"mat-header-cell",63)(14,ct,2,1,"mat-cell",69),t.bVm(),t.qex(15,70),t.DNE(16,rt,2,0,"mat-header-cell",63)(17,mt,2,0,"div",42)(18,dt,5,2,"mat-cell",71),t.bVm(),t.qex(19,72),t.DNE(20,pt,2,0,"mat-header-cell",63)(21,ut,2,1,"mat-cell",73),t.bVm(),t.qex(22,74),t.DNE(23,ht,2,0,"mat-header-cell",63)(24,ft,2,1,"mat-cell",75),t.bVm(),t.qex(25,76),t.DNE(26,_t,2,0,"mat-header-cell",63)(27,gt,3,2,"mat-cell",73),t.bVm(),t.qex(28,77),t.DNE(29,kt,2,0,"mat-header-cell",63)(30,xt,4,3,"mat-cell",78),t.bVm(),t.qex(31,79),t.DNE(32,yt,2,0,"mat-header-cell",63)(33,Ct,2,1,"mat-cell",73),t.bVm(),t.qex(34,80),t.DNE(35,Ft,2,0,"mat-header-cell",63)(36,Tt,2,0,"div",42)(37,vt,5,2,"mat-cell",81),t.bVm(),t.qex(38,82),t.DNE(39,jt,2,0,"mat-header-cell",63)(40,wt,4,7,"mat-cell",66),t.bVm(),t.qex(41,83),t.DNE(42,St,2,0,"mat-header-cell",63)(43,Dt,3,1,"mat-cell",66),t.bVm(),t.qex(44,84),t.DNE(45,Rt,2,0,"mat-header-cell",63)(46,Et,3,1,"mat-cell",66),t.bVm(),t.DNE(47,$t,1,0,"mat-header-row",85)(48,Nt,1,0,"mat-row",86),t.k0s()()),2&a){const e=t.XpG();t.Y8G("dataSource",e.dataSource),t.R7$(17),t.Y8G("ngIf",e.isLoading),t.R7$(19),t.Y8G("ngIf",e.isLoading),t.R7$(11),t.Y8G("matHeaderRowDef",e.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",e.displayedColumns)}}const F=new Date,Vt=F.getMonth(),Gt=F.getFullYear();F.getDay();let Mt=(()=>{class a{constructor(e,o,n,l,r){this._apiService=e,this.cdr=o,this._ticketLogsService=n,this._ticketTableService=l,this._matDialog=r,this.isLoading=!1,this.filterValues={search:"",category:[],products:[],status:[],priority:[]},this.shiftStatus=!0,this.ticketStatus=!1,this.isAdmin="admin"===localStorage.getItem("userRole"),this.statusList=["New","On Progress","Resolved"],this.productsItems=[],this.category=[],this.statusItems=[],this.priorityItems=[],this._unsubscribeAll=new Y.B,this.displayedColumns=["tracking_id","hari_masuk","waktu_masuk","name","category","subject","pic","no_whatsapp","status","solved_time","last_replier","priority","create_date","create_time"],this.dataSource=new d.I6,this.range=new p.gE({start:new p.MJ(new Date(Gt,Vt-1)),end:new p.MJ(new Date)})}ngOnInit(){this.fetchUsers(),this.fetchData(),this.isNotDataFound=0===this.dataSource.data.length,this.range.valueChanges.subscribe(({start:e,end:o})=>{if(o){const n=e instanceof Date?e:new Date(e),l=o instanceof Date?o:new Date(o);this.fetchDataByDate(n.toLocaleDateString("en-CA"),l.toLocaleDateString("en-CA"))}})}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addProducts(){this._matDialog.open(P.H,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})}generateReport(){this._matDialog.open(A.E,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})}fetchDataByDate(e,o){var n=this;return(0,k.A)(function*(){console.log("Fetching data for range:",e,"to  ",o);const l=yield n._apiService.get(`api/V1/tickets-date?start_date=${e}&end_date=${o}`);n.dataSource.data=l.data,console.log("Data fetched:",n.dataSource.data),n.isNotDataFound=0===n.dataSource.data.length||null===n.dataSource.data})()}fetchData(){try{this.isLoading=!0,this._ticketTableService.data$.pipe((0,B.Q)(this._unsubscribeAll)).subscribe(e=>{const o=new Set,n=new Set,l=new Set,r=new Set;e.data.forEach(c=>{c.products_name&&(Array.isArray(c.products_name)?c.products_name.forEach(m=>r.add(m)):r.add(c.products_name)),c.category&&(Array.isArray(c.category)?c.category.forEach(m=>o.add(m)):(o.add(c.category),n.add(c.status))),c.status&&(Array.isArray(c.status)?c.status.forEach(m=>n.add(m)):n.add(c.status)),c.priority&&(Array.isArray(c.priority)?c.priority.forEach(m=>m.add(m)):l.add(c.priority)),c.subject||(c.subject="Subject Not Found")}),this.statusItems=[...n].map(c=>({name:c,checked:!1})),this.category=[...o].map(c=>({name:c,checked:!1})),this.priorityItems=[...l].map(c=>({name:c,checked:!1})),this.productsItems=[...r].map(c=>({name:c,checked:!1})),this.dataSource.data=e.data,this.isNotDataFound=0==this.dataSource.data.length})}catch(e){throw this.isLoading=!1,e}finally{this.isLoading=!1}}fetchUsers(){var e=this;return(0,k.A)(function*(){try{e.isLoading=!0;const o=yield e._apiService.get("api/V1/get-profile");e.shiftStatus="Active Shift"!==o.data.shift_status,e.cdr.detectChanges()}catch(o){throw o}finally{e.isLoading=!1}})()}applyFilter(){this.dataSource.filterPredicate=(e,o)=>{let n=JSON.parse(o);console.log(e);let l=""===n.search||e.tracking_id.toLowerCase().includes(n.search)||e.products_name.toLowerCase().includes(n.search)||e.category.toLowerCase().includes(n.search)||e.subject.toLowerCase().includes(n.search)||e.status.toLowerCase().includes(n.search)||e.priority.toLowerCase().includes(n.search)||e.no_whatsapp.toLowerCase().includes(n.search)||e.user?.name.toLowerCase().includes(n.search)||e.last_replier?.name.toLowerCase().includes(n.search),r=0===n.category.length||n.category.includes(e.category.toLowerCase()),c=0===n.status.length||n.status.includes(e.status.toLowerCase()),m=0===n.priority.length||n.priority.includes(e.priority.toLowerCase()),T=0===n.products.length||n.products.includes(e.products_name.toLowerCase());return l&&r&&c&&m&&T},this.dataSource.filter=JSON.stringify(this.filterValues),this.isNotDataFound=0===this.dataSource.filteredData.length}applySearchFilter(e){this.filterValues.search=e.trim().toLowerCase(),this.applyFilter()}applyProductsFilter(){this.filterValues.products=this.productsItems.filter(e=>e.checked).map(e=>e.name.toLowerCase()),this.applyFilter()}applyCategoryFilter(){this.filterValues.category=this.category.filter(e=>e.checked).map(e=>e.name.toLowerCase()),this.applyFilter()}applyStatusFilter(){this.filterValues.status=this.statusItems.filter(e=>e.checked).map(e=>e.name.toLowerCase()),this.applyFilter()}applyPriorityFilter(){this.filterValues.priority=this.priorityItems.filter(e=>e.checked).map(e=>e.name.toLowerCase()),this.applyFilter()}changeStatus(e,o){var n=this;return(0,k.A)(function*(){try{const{status:l}=yield n._apiService.post(`api/V1/ticket-status/${e}`,{status:o});if(console.log(200===l),200===l){const c=yield n._apiService.get("api/V1/tickets-logs");n._ticketLogsService.Update(c);const m=yield n._apiService.get("api/V1/tickets");n._ticketTableService.Update(m)}}catch(l){throw l}})()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU($.G),t.rXU(t.gRc),t.rXU(N.j),t.rXU(C),t.rXU(S.bZ))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-ticket"]],viewQuery:function(o,n){if(1&o&&(t.GBs(y.B4,5),t.GBs(x.iy,5)),2&o){let l;t.mGM(l=t.lsd())&&(n.sort=l.first),t.mGM(l=t.lsd())&&(n.paginator=l.first)}},standalone:!0,features:[t.aNF],decls:80,vars:34,consts:[["picker",""],["menu","matMenu"],["products","matMenu"],["categorys","matMenu"],["status","matMenu"],["priority","matMenu"],["paginator",""],["table",""],[1,"h-fit","border-[1px]","shadow-xl","mt-4","bg-white","rounded-lg","p-5"],[1,"flex","flex-col","items-start","lg:flex-row","sm:items-center","justify-between"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3","w-1/3","max-lg:w-full"],["for","table-search",1,"sr-only"],[1,"relative","my-2","w-full"],[1,"absolute","inset-y-0","rtl:inset-r-0","start-0","flex","items-center","ps-3","pointer-events-none"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","fill","none","viewBox","0 0 20 20",1,"w-4","h-4","text-gray-500","dark:text-gray-400"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z"],["type","text","matInput","","placeholder","Search Tickets",1,"block","w-full","p-4","ps-10","text-sm","text-gray-900","border","border-gray-300","rounded-lg","bg-gray-50","focus:ring-blue-500","focus:border-blue-500","dark:bg-gray-700","dark:border-gray-600","dark:placeholder-gray-400","dark:text-white","dark:focus:ring-blue-500","dark:focus:border-blue-500",3,"keyup"],[1,"flex","items-center","gap-3"],["mat-raised-button","",1,"flex","w-fit","text-nowrap","items-center","gap-2","p-2.5","rounded-full","px-3","sm:px-5","text-white",3,"disabled","routerLink","ngClass"],["svgIcon","mat_outline:add",1,"text-white"],[1,"max-sm:hidden","font-semibold"],["mat-raised-button","",1,"flex","w-fit","text-nowrap","items-center","gap-2","p-2.5","rounded-full","px-3","sm:px-5","bg-red-500","text-white",3,"click"],["svgIcon","mat_solid:picture_as_pdf",1,"text-white"],[1,"min-w-[300px]","max-w-full","self-end","hidden","sm:block"],[1,"w-full",3,"rangePicker","formGroup"],["matStartDate","","formControlName","start","placeholder","Start date",1,"w-full"],["matEndDate","","formControlName","end","placeholder","End date",1,"w-full"],["matSuffix","",3,"for"],["touchUi",""],[1,"flex","items-center","gap-2","p-2.5","rounded-full","px-3","sm:px-5","border-[1px]","text-white",3,"matMenuTriggerFor"],["svgIcon","filter_alt"],[1,"max-sm:hidden","font-semibold","text-black"],["svgIcon","keyboard_arrow_down"],["mat-menu-item","",3,"matMenuTriggerFor","matMenuTriggerData"],[1,"min-w-[300px]"],[1,"px-5","py-3","w-full"],[1,"font-semibold","mb-2"],[1,"px-5","flex","flex-col","gap-2","w-full"],["class","h-full",3,"ngModel","ngModelChange","click","change",4,"ngFor","ngForOf"],["class","h-full w-full",3,"ngModel","ngModelChange","click","change",4,"ngFor","ngForOf"],[1,"px-5","py-3"],[1,"min-w-[300px]","max-w-full","pt-4","self-start","sm:hidden","block"],["role","status","class","p-5 animate-pulse",4,"ngIf"],["class","py-10",4,"ngIf"],[1,"w-full","overflow-auto","whitespace-nowrap","mt-5"],["matSort","","class","min-w-[2480px]",3,"dataSource",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],[1,"h-full",3,"ngModelChange","click","change","ngModel"],[1,"h-full","w-full",3,"ngModelChange","click","change","ngModel"],[1,"px-3","py-1","text-white","whitespace-nowrap","rounded-full",3,"ngClass"],[1,"font-medium"],["svgIcon","mat_outline:bookmark",1,"-rotate-90",3,"ngClass"],[1,"font-medium","uppercase"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],[1,"py-10"],[1,"flex","flex-col","items-center"],["src","icons/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"text-lg","font-semibold"],[1,"text-sm"],["matSort","",1,"min-w-[2480px]",3,"dataSource"],["matColumnDef","tracking_id"],[4,"matHeaderCellDef"],["class","text-lg text-blue-600 font-medium underline whitespace-nowrap",4,"matCellDef"],["matColumnDef","hari_masuk"],["class","flex items-center gap-3",4,"matCellDef"],["matColumnDef","waktu_masuk"],["matColumnDef","category"],["class","flex items-center gap-3 font-medium",4,"matCellDef"],["matColumnDef","name"],["class","py-3.5 flex items-center gap-3 w-fit",4,"matCellDef"],["matColumnDef","pic"],[4,"matCellDef"],["matColumnDef","subject"],["class","font-bold text-lg",4,"matCellDef"],["matColumnDef","no_whatsapp"],["matColumnDef","status"],["class","py-4 w-full",4,"matCellDef"],["matColumnDef","solved_time"],["matColumnDef","last_replier"],["class","py-2 flex items-center gap-3 w-fit",4,"matCellDef"],["matColumnDef","priority"],["matColumnDef","create_date"],["matColumnDef","create_time"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"text-lg","text-blue-600","font-medium","underline","whitespace-nowrap"],[3,"routerLink"],["svgIcon","mat_solid:date_range"],["svgIcon","mat_outline:access_time"],[1,"flex","items-center","gap-3","font-medium"],[1,"py-3.5","flex","items-center","gap-3","w-fit"],[1,"w-full","flex","items-center","gap-3"],["alt","",1,"w-7","h-7","object-cover","rounded-full",3,"src"],[1,"font-bold","text-lg"],["target","_blank",3,"href"],[1,"py-4","w-full"],["hideRequiredMarker","",1,"w-full"],["placeholder","Select",3,"valueChange","value","disabled"],["class","px-3 py-1 m-2 font-medium text-base rounded-full",3,"value","click",4,"ngFor","ngForOf"],[1,"px-3","py-1","m-2","font-medium","text-base","rounded-full",3,"click","value"],[1,"py-2","flex","items-center","gap-3","w-fit"],["alt","",1,"w-7","h-7","rounded-full",3,"src"]],template:function(o,n){if(1&o){const l=t.RV6();t.j41(0,"section",8)(1,"div",9)(2,"div",10)(3,"label",11),t.EFF(4,"Search"),t.k0s(),t.j41(5,"div",12)(6,"div",13),t.qSk(),t.j41(7,"svg",14),t.nrm(8,"path",15),t.k0s()(),t.joV(),t.j41(9,"input",16),t.bIt("keyup",function(c){return t.eBV(l),t.Njj(n.applySearchFilter(c.target.value))}),t.k0s()()(),t.j41(10,"div",17)(11,"button",18),t.nrm(12,"mat-icon",19),t.j41(13,"span",20),t.EFF(14,"New Ticket"),t.k0s()(),t.j41(15,"button",21),t.bIt("click",function(){return t.eBV(l),t.Njj(n.generateReport())}),t.nrm(16,"mat-icon",22),t.j41(17,"span",20),t.EFF(18,"Generate Report"),t.k0s()(),t.j41(19,"mat-form-field",23)(20,"mat-date-range-input",24),t.nrm(21,"input",25)(22,"input",26),t.k0s(),t.nrm(23,"mat-datepicker-toggle",27)(24,"mat-date-range-picker",28,0),t.k0s(),t.j41(26,"button",29),t.nrm(27,"mat-icon",30),t.j41(28,"span",31),t.EFF(29,"Filter"),t.k0s(),t.nrm(30,"mat-icon",32),t.k0s(),t.j41(31,"mat-menu",null,1)(33,"button",33),t.EFF(34,"Products"),t.k0s(),t.j41(35,"button",33),t.EFF(36,"Category"),t.k0s(),t.j41(37,"button",33),t.EFF(38,"Status"),t.k0s(),t.j41(39,"button",33),t.EFF(40,"Priority"),t.k0s(),t.j41(41,"mat-menu",34,2)(43,"div",35)(44,"h1",36),t.EFF(45,"Choose Products"),t.k0s()(),t.j41(46,"div",37),t.DNE(47,Q,2,2,"mat-checkbox",38),t.k0s()(),t.j41(48,"mat-menu",34,3)(50,"div",35)(51,"h1",36),t.EFF(52,"Choose Category"),t.k0s()(),t.j41(53,"div",37),t.DNE(54,z,2,2,"mat-checkbox",39),t.k0s()(),t.j41(55,"mat-menu",null,4)(57,"div",40)(58,"h1",36),t.EFF(59,"Choose status"),t.k0s()(),t.DNE(60,K,4,7,"mat-checkbox",38),t.k0s(),t.j41(61,"mat-menu",null,5)(63,"div",40)(64,"h1",36),t.EFF(65,"Choose Priority"),t.k0s()(),t.DNE(66,Z,5,8,"mat-checkbox",38),t.k0s()()(),t.j41(67,"mat-form-field",41)(68,"mat-date-range-input",24),t.nrm(69,"input",25)(70,"input",26),t.k0s(),t.nrm(71,"mat-datepicker-toggle",27)(72,"mat-date-range-picker",null,0),t.k0s()(),t.DNE(74,q,8,0,"div",42)(75,tt,8,0,"div",43),t.j41(76,"div",44),t.DNE(77,It,49,5,"mat-table",45),t.k0s(),t.nrm(78,"mat-paginator",46,6),t.k0s()}if(2&o){const l=t.sdS(25),r=t.sdS(32),c=t.sdS(42),m=t.sdS(49),T=t.sdS(56),Xt=t.sdS(62);t.R7$(11),t.Y8G("disabled",n.shiftStatus&&!n.isAdmin)("routerLink",t.lJ4(28,J))("ngClass",n.shiftStatus&&!n.isAdmin?"bg-gray-400":"bg-primary"),t.R7$(9),t.Y8G("rangePicker",l)("formGroup",n.range),t.R7$(3),t.Y8G("for",l),t.R7$(3),t.Y8G("matMenuTriggerFor",r),t.R7$(7),t.Y8G("matMenuTriggerFor",c)("matMenuTriggerData",t.lJ4(29,_)),t.R7$(2),t.Y8G("matMenuTriggerFor",m)("matMenuTriggerData",t.lJ4(30,_)),t.R7$(2),t.Y8G("matMenuTriggerFor",T)("matMenuTriggerData",t.lJ4(31,_)),t.R7$(2),t.Y8G("matMenuTriggerFor",Xt)("matMenuTriggerData",t.lJ4(32,_)),t.R7$(8),t.Y8G("ngForOf",n.productsItems),t.R7$(7),t.Y8G("ngForOf",n.category),t.R7$(6),t.Y8G("ngForOf",n.statusItems),t.R7$(6),t.Y8G("ngForOf",n.priorityItems),t.R7$(2),t.Y8G("rangePicker",l)("formGroup",n.range),t.R7$(3),t.Y8G("for",l),t.R7$(3),t.Y8G("ngIf",n.isLoading),t.R7$(),t.Y8G("ngIf",n.isNotDataFound&&!n.isLoading),t.R7$(2),t.Y8G("ngIf",!n.isNotDataFound&&!n.isLoading&&0!=n.dataSource.data.length),t.R7$(),t.Y8G("pageSize",10)("pageSizeOptions",t.lJ4(33,U))("showFirstLastButtons",!0)}},dependencies:[h.MD,h.YU,h.Sq,h.bT,x.Ou,x.iy,S.hM,d.tP,d.Zl,d.tL,d.ji,d.cC,d.YV,d.iL,d.KS,d.$R,d.YZ,d.NB,p.X1,p.me,p.BC,p.cb,p.j4,p.JD,D.fS,D.fg,b.rl,b.yw,y.NQ,y.B4,L.An,f.Cn,f.kk,f.fb,f.Cp,j.g7,j.So,p.YN,p.vS,b.RG,u.X6,u.bU,u.el,u.xR,u.IG,u.SG,R.Ve,R.VO,w.wT,w.Sy,E.Hl,E.$z,g.Wk],styles:[".mat-mdc-form-field-subscript-wrapper{display:none!important}",".mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%] {\n        display: none;\n    }"]})}}return a})();const Lt=()=>["/dashboards/home"];let Yt=(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-tickets"]],standalone:!0,features:[t.aNF],decls:17,vars:2,consts:[[1,"p-4","h-full","w-full","sm:px-5"],[1,"px-1","pt-3","flex","justify-between","items-start","sm:items-center","flex-col","sm:flex-row","gap-5","sm:gap-0"],[1,"font-bold","text-lg","sm:text-3xl"],[1,"text-sm","sm:text-base"],[1,"text-sm","text-gray-600"],[1,"font-medium","text-gray-500","hover:cursor-pointer","hover:text-blue-400",3,"routerLink"],[1,"mx-2","text-gray-400"],[1,"font-semibold","text-blue-600","hover:text-blue-500"],[1,"h-fit","w-full"]],template:function(o,n){1&o&&(t.j41(0,"main",0)(1,"div",1)(2,"div")(3,"h1",2),t.EFF(4,"Tickets"),t.k0s(),t.j41(5,"p",3),t.EFF(6,"Keep track of ongoing tickets and follow up efficiently."),t.k0s()(),t.j41(7,"div",4)(8,"span",5),t.EFF(9,"Home"),t.k0s(),t.j41(10,"span",6),t.EFF(11,"/"),t.k0s(),t.j41(12,"span",7),t.EFF(13,"Tickets"),t.k0s()()(),t.j41(14,"div",8),t.nrm(15,"app-ticket")(16,"app-ticket-logs"),t.k0s()()),2&o&&(t.R7$(8),t.Y8G("routerLink",t.lJ4(1,Lt)))},dependencies:[Mt,M.V,g.Wk],encapsulation:2,changeDetection:0})}}return a})();var Bt=s(6369),At=s(96697),Pt=s(96354);const Ot=[{path:"",component:Yt,resolve:{check:()=>(0,t.WQX)(C).checkTickets(),data:()=>(0,t.WQX)(N.j).fetchData(),ticket:()=>(0,t.WQX)(C).fetchData()}},{path:"add-tickets",canActivate:[(a,i)=>{const e=(0,t.WQX)(g.Ix),o=(0,t.WQX)(Bt.D),n="admin"===localStorage.getItem("userRole");return o.user$.pipe((0,At.s)(1),(0,Pt.T)(l=>!(!n&&"Active Shift"!==l.shift_status)||e.parseUrl("/dashboards/tickets")))}],loadChildren:()=>Promise.all([s.e(6233),s.e(789)]).then(s.bind(s,10789))},{path:":trackingId",loadChildren:()=>Promise.all([s.e(6233),s.e(1526)]).then(s.bind(s,21526))}]}}]);