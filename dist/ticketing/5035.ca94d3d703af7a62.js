"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[5035],{61064:(J,S,n)=>{n.r(S),n.d(S,{default:()=>Q});var p=n(10467),h=n(60177),t=n(54438),l=n(89417),v=n(88834),j=n(82765),P=n(86600),C=n(25084),d=n(75351),m=n(53719),g=n(99213),b=n(59042),k=n(59115),_=n(96695),F=n(82798),u=n(2042),c=n(9159),G=n(21413),I=n(89967),N=n(5271),w=n(3366),x=n(45794),T=n(46601),y=n(64331);let R=(()=>{class o{constructor(e,a,s,i,f,Z,D){this._apiService=e,this.fb=a,this.toast=s,this.fuseConfirmationService=i,this._productsTableService=f,this.dialogRef=Z,this.data=D,this.isLoading=!1,this.id=D.id}ngOnInit(){this.productsForm=this.fb.group({name:[null,[l.k0.required]]}),this.fetchProductsById()}fetchProductsById(){var e=this;return(0,p.A)(function*(){try{const a=yield e._apiService.get(`api/V1/products/${e.id}`);e.productsForm.patchValue({name:a.data.name})}catch(a){throw e.toast.error("Failed Get Shift Time By Id","Error"),a}})()}onSubmit(){var e=this;return(0,p.A)(function*(){if(e.productsForm.invalid)e.toast.warning("Please Fill All Form","Warning");else try{e.isLoading=!0;const{status:s}=yield e._apiService.post(`api/V1/products/${e.id}`,{name:e.productsForm.value.name});if(200===s)return e.toast.success("Success Update Products","Success"),e._productsTableService.fetchData(),e.dialogRef.close(),void(e.isLoading=!1);if(500===s)return e.toast.error("Internal Server Error","Failed"),e.dialogRef.close(),void(e.isLoading=!1);409===s&&(e.isLoading=!1,e.fuseConfirmationService.open({title:"Notification",message:"The Products already exists on the server. Would you like to create another Products time anyway?",icon:{color:"info"},actions:{confirm:{label:"Confirmation",color:"primary"}}}))}catch(a){throw a}})()}static{this.\u0275fac=function(a){return new(a||o)(t.rXU(w.G),t.rXU(l.ok),t.rXU(x.tw),t.rXU(T.G),t.rXU(y.W),t.rXU(d.CP),t.rXU(d.Vh))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-form-edit-products"]],standalone:!0,features:[t.aNF],decls:13,vars:3,consts:[[1,"h-full","w-full","flex","flex-col"],[1,"flex","justify-end"],[1,"w-auto",3,"click"],["mat-flat-button","","svgIcon","mat_solid:close",1,"self-end"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,""],[1,"bg-card","mt-2","flex","flex-col","overflow-hidden","rounded-2xl","p-8","pb-4","gap-5",3,"formGroup"],[1,"w-full"],["formControlName","name","matInput","",3,"placeholder"],["type","submit",1,"bg-blue-600","text-white","p-2","rounded",3,"click"]],template:function(a,s){1&a&&(t.j41(0,"div",0)(1,"div",1)(2,"a",2),t.bIt("click",function(){return s.dialogRef.close()}),t.nrm(3,"mat-icon",3),t.k0s()(),t.nrm(4,"ion-loading",4),t.j41(5,"div",5)(6,"form",6)(7,"mat-form-field",7)(8,"mat-label"),t.EFF(9,"Products Name"),t.k0s(),t.nrm(10,"input",8),t.k0s(),t.j41(11,"button",9),t.bIt("click",function(){return s.onSubmit()}),t.EFF(12," Edit Products "),t.k0s()()()()),2&a&&(t.R7$(4),t.Y8G("isOpen",s.isLoading),t.R7$(2),t.Y8G("formGroup",s.productsForm),t.R7$(4),t.Y8G("placeholder","Products Name"))},dependencies:[l.X1,l.qT,l.me,l.BC,l.cb,l.j4,l.JD,l.YN,m.RG,m.rl,m.nJ,b.fS,b.fg,v.Hl,g.m_,g.An,N.rQ,C.X6,P.Sy,F.Ve,h.MD]})}}return o})();const E=()=>[5,10,20];function $(o,r){1&o&&(t.j41(0,"div",15),t.nrm(1,"div",16)(2,"div",16)(3,"div",16)(4,"div",16)(5,"div",16)(6,"div",16)(7,"div",17),t.k0s())}function V(o,r){1&o&&(t.j41(0,"div")(1,"div",18),t.nrm(2,"img",19),t.j41(3,"h1",20),t.EFF(4,"Data Not Found"),t.k0s()()())}function X(o,r){1&o&&(t.j41(0,"mat-header-cell"),t.EFF(1," Products Name "),t.k0s())}function B(o,r){if(1&o&&(t.j41(0,"mat-cell",31),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.R7$(),t.SpI(" ",e.name," ")}}function U(o,r){1&o&&(t.j41(0,"mat-header-cell"),t.EFF(1," Total Tickets "),t.k0s())}function L(o,r){if(1&o&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.R7$(),t.SpI(" ",e.total_tickets," ")}}function Y(o,r){1&o&&(t.j41(0,"mat-header-cell",32),t.EFF(1," Action "),t.k0s())}function A(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",34)(1,"a",35),t.bIt("click",function(){t.eBV(e);const s=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.handleDeleteProducts(s.id))}),t.nrm(2,"mat-icon",36),t.k0s(),t.j41(3,"a",37),t.bIt("click",function(){t.eBV(e);const s=t.XpG().$implicit,i=t.XpG(2);return t.Njj(i.editProducts(s.id))}),t.nrm(4,"mat-icon",38),t.k0s()()}}function O(o,r){if(1&o&&(t.j41(0,"mat-cell"),t.DNE(1,A,5,0,"div",33),t.k0s()),2&o){const e=r.$implicit;t.R7$(),t.Y8G("ngIf","default-trial"!=e.name)}}function H(o,r){1&o&&t.nrm(0,"mat-header-row")}function W(o,r){1&o&&t.nrm(0,"mat-row")}function M(o,r){if(1&o&&(t.j41(0,"mat-table",21,1)(2,"div"),t.qex(3,22),t.DNE(4,X,2,0,"mat-header-cell",23)(5,B,2,1,"mat-cell",24),t.bVm(),t.qex(6,25),t.DNE(7,U,2,0,"mat-header-cell",23)(8,L,2,1,"mat-cell",26),t.bVm(),t.qex(9,27),t.DNE(10,Y,2,0,"mat-header-cell",28)(11,O,2,1,"mat-cell",26),t.bVm(),t.DNE(12,H,1,0,"mat-header-row",29)(13,W,1,0,"mat-row",30),t.k0s()()),2&o){const e=t.XpG();t.Y8G("dataSource",e.dataSource),t.R7$(12),t.Y8G("matHeaderRowDef",e.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",e.displayedColumns)}}let z=(()=>{class o{constructor(e,a,s,i,f){this._apiService=e,this.fuseConfirmationService=a,this._productsService=s,this._matDialog=i,this._toastService=f,this.filterValues={search:"",category:[],products:[],status:[],priority:[]},this.shiftStatus=!0,this.ticketStatus=!1,this._unsubscribeAll=new G.B,this.displayedColumns=["name","total_tickets","action"],this.dataSource=new c.I6,(0,t.QZP)(()=>{this.dataSource.data=this.datas})}get datas(){return this._productsService._data()}get isLoading(){return this._productsService.isLoading()}get isNotDataFound(){return this._productsService.isNotFound()}ngOnInit(){this._productsService.fetchData()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addProducts(){this._matDialog.open(I.H,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})}editProducts(e){this._matDialog.open(R,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw",data:{id:e}})}handleDeleteProducts(e){this.fuseConfirmationService.open({title:"Konfirmasi Hapus",message:`Apakah Anda yakin ingin menghapus Products ${e}?`,actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(s=>{"confirmed"===s&&this.deleteProducts(e)})}deleteProducts(e){var a=this;return(0,p.A)(function*(){try{const{status:i}=yield a._apiService.delete(`api/V1/products/${e}`);return 200===i?(a._toastService.success("Success Delete Products","Success"),void a._productsService.fetchData()):void a._toastService.error("Failed Delete Products","Failed")}catch(s){throw a._toastService.error("Failed Delete Products","Failed"),s}})()}static{this.\u0275fac=function(a){return new(a||o)(t.rXU(w.G),t.rXU(T.G),t.rXU(y.W),t.rXU(d.bZ),t.rXU(x.tw))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-table-products"]],viewQuery:function(a,s){if(1&a&&(t.GBs(u.B4,5),t.GBs(_.iy,5)),2&a){let i;t.mGM(i=t.lsd())&&(s.sort=i.first),t.mGM(i=t.lsd())&&(s.paginator=i.first)}},standalone:!0,features:[t.aNF],decls:16,vars:7,consts:[["paginator",""],["table",""],[1,"h-fit","border-[1px]","shadow-xl","mt-4","bg-white","rounded-lg","p-5"],[1,"flex","items-start","flex-row","sm:items-center","justify-between"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3","w-1/3","max-lg:w-full"],[1,"text-xl","font-semibold"],[1,"flex","items-center","gap-3"],["mat-raised-button","",1,"bg-blue-600","hover:bg-blue-700","text-white",3,"click"],["svgIcon","mat_outline:add",1,"text-white"],[1,"font-semibold"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"w-full","overflow-auto","whitespace-nowrap","mt-5"],["matSort","","class","min-w-160",3,"dataSource",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],[1,"flex","flex-col","items-center"],["src","icons/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"],["matSort","",1,"min-w-160",3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],["class","text-lg font-medium whitespace-nowrap",4,"matCellDef"],["matColumnDef","total_tickets"],[4,"matCellDef"],["matColumnDef","action","n",""],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"text-lg","font-medium","whitespace-nowrap"],["mat-sort-header",""],["class","flex items-center",4,"ngIf"],[1,"flex","items-center"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-red-500","hover:cursor-pointer","hover:bg-red-600","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-blue-500","hover:bg-blue-600","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:pencil-square",1,"text-white",2,"transform","scale(0.7)"]],template:function(a,s){if(1&a){const i=t.RV6();t.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h1",5),t.EFF(4,"Products"),t.k0s()(),t.j41(5,"div",6)(6,"button",7),t.bIt("click",function(){return t.eBV(i),t.Njj(s.addProducts())}),t.nrm(7,"mat-icon",8),t.j41(8,"span",9),t.EFF(9,"Add Products"),t.k0s()()()(),t.DNE(10,$,8,0,"div",10)(11,V,5,0,"div",11),t.j41(12,"div",12),t.DNE(13,M,14,3,"mat-table",13),t.k0s(),t.nrm(14,"mat-paginator",14,0),t.k0s()}2&a&&(t.R7$(10),t.Y8G("ngIf",s.isLoading),t.R7$(),t.Y8G("ngIf",s.isNotDataFound&&!s.isLoading),t.R7$(2),t.Y8G("ngIf",!s.isNotDataFound&&!s.isLoading&&0!=s.dataSource.data.length),t.R7$(),t.Y8G("pageSize",10)("pageSizeOptions",t.lJ4(6,E))("showFirstLastButtons",!0))},dependencies:[h.MD,h.bT,_.Ou,_.iy,d.hM,c.tP,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,l.X1,b.fS,u.NQ,u.B4,u.aE,g.An,k.Cn,j.g7,l.YN,m.RG,C.X6,F.Ve,P.Sy,v.Hl,v.$z],styles:[".mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%] {\n        display: none;\n    }"]})}}return o})();const Q=[{path:"",component:(()=>{class o{static{this.\u0275fac=function(a){return new(a||o)}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-products"]],standalone:!0,features:[t.aNF],decls:2,vars:0,consts:[[1,"p-4","h-full","w-full"]],template:function(a,s){1&a&&(t.j41(0,"main",0),t.nrm(1,"app-table-products"),t.k0s())},dependencies:[z]})}}return o})()}]}}]);