"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[4717],{14717:(et,D,i)=>{i.r(D),i.d(D,{default:()=>tt});var m=i(10467),u=i(60177),t=i(54438),n=i(89417),v=i(88834),E=i(82765),g=i(86600),x=i(25084),f=i(75351),d=i(53719),h=i(99213),y=i(59042),G=i(59115),w=i(96695),_=i(82798),C=i(2042),c=i(9159),R=i(21413),N=i(5271),b=i(3366),F=i(45794),k=i(46601);let T=(()=>{class a{constructor(e,o){this._apiService=e,this._toastService=o,this._data=(0,t.vPA)([]),this.isLoading=(0,t.vPA)(!1),this.isNotFound=(0,t.vPA)(!1)}Update(e){this._data.set(e)}fetchData(){var e=this;return(0,m.A)(function*(){e.isLoading.set(!0),e._apiService.get("api/V1/category").then(function(){var o=(0,m.A)(function*(r){e.isLoading.set(!1),e.isNotFound.set(!1),e._data.set(r.data),null!==r.data&&0!=r.data.length||e.isNotFound.set(!0)});return function(r){return o.apply(this,arguments)}}()).catch(function(){var o=(0,m.A)(function*(r){e.isLoading.set(!1),e.isNotFound.set(!0),e._toastService.error("Failed to fetch data","Error")});return function(r){return o.apply(this,arguments)}}())})()}static{this.\u0275fac=function(o){return new(o||a)(t.KVO(b.G),t.KVO(F.tw))}}static{this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}}return a})();function I(a,l){if(1&a&&(t.j41(0,"mat-option",15),t.EFF(1),t.k0s()),2&a){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}let $=(()=>{class a{constructor(e,o,r,s,p,j,S){this._apiService=e,this.fb=o,this.toast=r,this.fuseConfirmationService=s,this._categoryTableService=p,this.dialogRef=j,this.data=S,this.isLoading=!1}ngOnInit(){this.productsForm=this.fb.group({category_name:[null,[n.k0.required]],products_id:[null,[n.k0.required]]}),this.fetchData()}fetchData(){var e=this;return(0,m.A)(function*(){try{const o=yield e._apiService.get("api/V1/products");e.products=o.data}catch(o){console.error("Error fetching data:",o)}})()}onSubmit(){var e=this;return(0,m.A)(function*(){if(e.productsForm.invalid)e.toast.warning("Please Fill All Form","Warning");else try{e.isLoading=!0;const{status:r}=yield e._apiService.post("api/V1/category",{category_name:e.productsForm.value.category_name,products_id:e.productsForm.value.products_id});if(201===r)return e.toast.success("Success Create Products","Success"),e._categoryTableService.fetchData(),e.dialogRef.close(),void(e.isLoading=!1);if(500===r)return e.toast.error("Internal Server Error","Failed"),e.dialogRef.close(),void(e.isLoading=!1);409===r&&(e.isLoading=!1,e.fuseConfirmationService.open({title:"Notification",message:"The Products already exists on the server. Would you like to create another Products time anyway?",icon:{color:"info"},actions:{confirm:{label:"Confirmation",color:"primary"}}}))}catch(o){throw o}})()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(b.G),t.rXU(n.ok),t.rXU(F.tw),t.rXU(k.G),t.rXU(T),t.rXU(f.CP),t.rXU(f.Vh))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-form-add-category"]],standalone:!0,features:[t.aNF],decls:21,vars:4,consts:[[1,"h-full","w-full","flex","flex-col"],[1,"flex","justify-between","p-2"],[1,"truncate","text-lg","font-medium","leading-6","tracking-tight","px-5","py-3","flex","flex-col","sm:flex-row","items-start","sm:items-center","w-full","justify-between"],[1,"mb-2","text-xl","font-semibold","sm:mb-0"],[3,"click"],["svgIcon","mat_solid:close",1,"cursor-pointer"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,""],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","px-8","py-4","pb-4",3,"formGroup"],["hideRequiredMarker","",1,"w-full"],["formControlName","products_id","placeholder","Select Products"],["class","px-3 py-1 m-2 font-medium text-base rounded-full",3,"value",4,"ngFor","ngForOf"],[1,"w-full"],["formControlName","category_name","matInput","",3,"placeholder"],["type","submit",1,"bg-green-600","text-white","p-2","rounded",3,"click"],[1,"px-3","py-1","m-2","font-medium","text-base","rounded-full",3,"value"]],template:function(o,r){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t.EFF(4,"Add Category"),t.k0s()(),t.j41(5,"a",4),t.bIt("click",function(){return r.dialogRef.close()}),t.nrm(6,"mat-icon",5),t.k0s()(),t.nrm(7,"ion-loading",6),t.j41(8,"div",7)(9,"form",8)(10,"mat-form-field",9)(11,"mat-label"),t.EFF(12,"Products"),t.k0s(),t.j41(13,"mat-select",10),t.DNE(14,I,2,2,"mat-option",11),t.k0s()(),t.j41(15,"mat-form-field",12)(16,"mat-label"),t.EFF(17,"Category Name"),t.k0s(),t.nrm(18,"input",13),t.k0s(),t.j41(19,"button",14),t.bIt("click",function(){return r.onSubmit()}),t.EFF(20," Add Category "),t.k0s()()()()),2&o&&(t.R7$(7),t.Y8G("isOpen",r.isLoading),t.R7$(2),t.Y8G("formGroup",r.productsForm),t.R7$(5),t.Y8G("ngForOf",r.products),t.R7$(4),t.Y8G("placeholder","Category Name"))},dependencies:[n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,n.YN,d.RG,d.rl,d.nJ,y.fS,y.fg,v.Hl,h.m_,h.An,N.rQ,x.X6,g.Sy,g.wT,_.Ve,_.VO,u.MD,u.Sq]})}}return a})();function A(a,l){if(1&a&&(t.j41(0,"mat-option",15),t.EFF(1),t.k0s()),2&a){const e=l.$implicit;t.Y8G("value",e.id),t.R7$(),t.SpI(" ",e.name," ")}}let V=(()=>{class a{constructor(e,o,r,s,p,j,S){this._apiService=e,this.fb=o,this.toast=r,this.fuseConfirmationService=s,this._categoryTableService=p,this.dialogRef=j,this.data=S,this.isLoading=!1,this.id=S.id}ngOnInit(){var e=this;return(0,m.A)(function*(){e.productsForm=e.fb.group({category_name:[null,[n.k0.required]],products_id:[null,[n.k0.required]]}),yield e.fetchData(),e.fetchCategoryById()})()}fetchData(){var e=this;return(0,m.A)(function*(){try{const o=yield e._apiService.get("api/V1/products");e.products=o.data}catch(o){console.error("Error fetching data:",o)}})()}fetchCategoryById(){var e=this;return(0,m.A)(function*(){try{const o=yield e._apiService.get(`api/V1/category/${e.id}`);e.productsForm.patchValue({category_name:o.data.category_name,products_id:o.data.products_name})}catch(o){throw o}})()}onSubmit(){var e=this;return(0,m.A)(function*(){if(e.productsForm.invalid)e.toast.warning("Please Fill All Form","Warning");else try{e.isLoading=!0;const{status:r}=yield e._apiService.post(`api/V1/category/${e.id}`,{category_name:e.productsForm.value.category_name,products_id:e.productsForm.value.products_id});if(200===r)return e.toast.success("Success Update Products","Success"),e._categoryTableService.fetchData(),e.dialogRef.close(),void(e.isLoading=!1);if(500===r)return e.toast.error("Internal Server Error","Failed"),e.dialogRef.close(),void(e.isLoading=!1);409===r&&(e.isLoading=!1,e.fuseConfirmationService.open({title:"Notification",message:"The Category already exists on the server. Would you like to create another Category time anyway?",icon:{color:"warn"},actions:{confirm:{label:"Confirmation",color:"primary"}}}))}catch(o){throw o}})()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(b.G),t.rXU(n.ok),t.rXU(F.tw),t.rXU(k.G),t.rXU(T),t.rXU(f.CP),t.rXU(f.Vh))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-form-edit-category"]],standalone:!0,features:[t.aNF],decls:21,vars:4,consts:[[1,"h-full","w-full","flex","flex-col"],[1,"flex","justify-between","p-2"],[1,"truncate","text-lg","font-medium","leading-6","tracking-tight","px-5","py-3","flex","flex-col","sm:flex-row","items-start","sm:items-center","w-full","justify-between"],[1,"mb-2","text-xl","font-semibold","sm:mb-0"],[3,"click"],["svgIcon","mat_solid:close",1,"cursor-pointer"],["message","Sumbitting Form...","spinner","circular",3,"isOpen"],[1,""],[1,"bg-card","flex","flex-col","overflow-hidden","rounded-2xl","px-8","py-4","pb-4","gap-5",3,"formGroup"],["hideRequiredMarker","",1,"w-full"],["formControlName","products_id","placeholder","Select Products"],["class","px-3 py-1 m-2 font-medium text-base rounded-full",3,"value",4,"ngFor","ngForOf"],[1,"w-full"],["formControlName","category_name","matInput","",3,"placeholder"],["type","submit",1,"bg-blue-600","text-white","p-2","rounded",3,"click"],[1,"px-3","py-1","m-2","font-medium","text-base","rounded-full",3,"value"]],template:function(o,r){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2)(3,"h2",3),t.EFF(4,"Edit Category"),t.k0s()(),t.j41(5,"a",4),t.bIt("click",function(){return r.dialogRef.close()}),t.nrm(6,"mat-icon",5),t.k0s()(),t.nrm(7,"ion-loading",6),t.j41(8,"div",7)(9,"form",8)(10,"mat-form-field",9)(11,"mat-label"),t.EFF(12,"Products"),t.k0s(),t.j41(13,"mat-select",10),t.DNE(14,A,2,2,"mat-option",11),t.k0s()(),t.j41(15,"mat-form-field",12)(16,"mat-label"),t.EFF(17,"Category Name"),t.k0s(),t.nrm(18,"input",13),t.k0s(),t.j41(19,"button",14),t.bIt("click",function(){return r.onSubmit()}),t.EFF(20," Edit Category "),t.k0s()()()()),2&o&&(t.R7$(7),t.Y8G("isOpen",r.isLoading),t.R7$(2),t.Y8G("formGroup",r.productsForm),t.R7$(5),t.Y8G("ngForOf",r.products),t.R7$(4),t.Y8G("placeholder","Category Name"))},dependencies:[n.X1,n.qT,n.me,n.BC,n.cb,n.j4,n.JD,n.YN,d.RG,d.rl,d.nJ,y.fS,y.fg,v.Hl,h.m_,h.An,N.rQ,x.X6,g.Sy,g.wT,_.Ve,_.VO,u.MD,u.Sq]})}}return a})();const X=()=>[5,10,20];function L(a,l){1&a&&(t.j41(0,"div",15),t.nrm(1,"div",16)(2,"div",16)(3,"div",16)(4,"div",16)(5,"div",16)(6,"div",16)(7,"div",17),t.k0s())}function U(a,l){1&a&&(t.j41(0,"div")(1,"div",18),t.nrm(2,"img",19),t.j41(3,"h1",20),t.EFF(4,"Data Not Found"),t.k0s()()())}function Y(a,l){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Category Id "),t.k0s())}function P(a,l){if(1&a&&(t.j41(0,"mat-cell",32),t.EFF(1),t.k0s()),2&a){const e=l.$implicit;t.R7$(),t.SpI(" ",e.id," ")}}function O(a,l){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Category Name "),t.k0s())}function B(a,l){if(1&a&&(t.j41(0,"mat-cell",32),t.EFF(1),t.k0s()),2&a){const e=l.$implicit;t.R7$(),t.SpI(" ",e.category_name," ")}}function H(a,l){1&a&&(t.j41(0,"mat-header-cell"),t.EFF(1," Products Name "),t.k0s())}function M(a,l){if(1&a&&(t.j41(0,"mat-cell"),t.EFF(1),t.k0s()),2&a){const e=l.$implicit;t.R7$(),t.SpI(" ",e.products_name," ")}}function W(a,l){1&a&&(t.j41(0,"mat-header-cell",33),t.EFF(1," Action "),t.k0s())}function Q(a,l){if(1&a){const e=t.RV6();t.j41(0,"div",35)(1,"a",36),t.bIt("click",function(){t.eBV(e);const r=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.handleDeleteCategory(r.id))}),t.nrm(2,"mat-icon",37),t.k0s(),t.j41(3,"a",38),t.bIt("click",function(){t.eBV(e);const r=t.XpG().$implicit,s=t.XpG(2);return t.Njj(s.editCategory(r.id))}),t.nrm(4,"mat-icon",39),t.k0s()()}}function z(a,l){if(1&a&&(t.j41(0,"mat-cell"),t.DNE(1,Q,5,0,"div",34),t.k0s()),2&a){const e=l.$implicit;t.R7$(),t.Y8G("ngIf","default-trial"!=e.name)}}function J(a,l){1&a&&t.nrm(0,"mat-header-row")}function K(a,l){1&a&&t.nrm(0,"mat-row")}function Z(a,l){if(1&a&&(t.j41(0,"mat-table",21,1)(2,"div"),t.qex(3,22),t.DNE(4,Y,2,0,"mat-header-cell",23)(5,P,2,1,"mat-cell",24),t.bVm(),t.qex(6,25),t.DNE(7,O,2,0,"mat-header-cell",23)(8,B,2,1,"mat-cell",24),t.bVm(),t.qex(9,26),t.DNE(10,H,2,0,"mat-header-cell",23)(11,M,2,1,"mat-cell",27),t.bVm(),t.qex(12,28),t.DNE(13,W,2,0,"mat-header-cell",29)(14,z,2,1,"mat-cell",27),t.bVm(),t.DNE(15,J,1,0,"mat-header-row",30)(16,K,1,0,"mat-row",31),t.k0s()()),2&a){const e=t.XpG();t.Y8G("dataSource",e.dataSource),t.R7$(15),t.Y8G("matHeaderRowDef",e.displayedColumns),t.R7$(),t.Y8G("matRowDefColumns",e.displayedColumns)}}let q=(()=>{class a{constructor(e,o,r,s,p){this._apiService=e,this.fuseConfirmationService=o,this._categoryService=r,this._matDialog=s,this._toastService=p,this.shiftStatus=!0,this.ticketStatus=!1,this._unsubscribeAll=new R.B,this.displayedColumns=["id","category_name","products_name","action"],this.dataSource=new c.I6,(0,t.QZP)(()=>{this.dataSource.data=this.datas})}get datas(){return this._categoryService._data()}get isLoading(){return this._categoryService.isLoading()}get isNotDataFound(){return this._categoryService.isNotFound()}ngOnInit(){this._categoryService.fetchData()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}addCategory(){this._matDialog.open($,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw"})}editCategory(e){this._matDialog.open(V,{width:window.innerWidth<600?"90%":"50%",maxWidth:"100vw",data:{id:e}})}handleDeleteCategory(e){this.fuseConfirmationService.open({title:"Konfirmasi Hapus",message:`Apakah Anda yakin ingin menghapus Category ${e}?`,actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(r=>{"confirmed"===r&&this.deleteCategory(e)})}deleteCategory(e){var o=this;return(0,m.A)(function*(){try{const{status:s}=yield o._apiService.delete(`api/V1/category/${e}`);return 200===s?(o._toastService.success("Success Delete Products","Success"),void o._categoryService.fetchData()):void o._toastService.error("Failed Delete Products","Failed")}catch(r){throw o._toastService.error("Failed Delete Products","Failed"),r}})()}static{this.\u0275fac=function(o){return new(o||a)(t.rXU(b.G),t.rXU(k.G),t.rXU(T),t.rXU(f.bZ),t.rXU(F.tw))}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-table-category"]],viewQuery:function(o,r){if(1&o&&(t.GBs(C.B4,5),t.GBs(w.iy,5)),2&o){let s;t.mGM(s=t.lsd())&&(r.sort=s.first),t.mGM(s=t.lsd())&&(r.paginator=s.first)}},standalone:!0,features:[t.aNF],decls:16,vars:7,consts:[["paginator",""],["table",""],[1,"h-fit","border-[1px]","shadow-xl","mt-4","bg-white","rounded-lg","p-5"],[1,"flex","items-start","flex-row","sm:items-center","justify-between"],[1,"flex","flex-col","sm:flex-row","items-start","sm:items-center","gap-3","w-1/3","max-lg:w-full"],[1,"text-xl","font-semibold"],[1,"flex","items-center","gap-3"],["mat-raised-button","",1,"bg-blue-600","hover:bg-blue-700","text-white",3,"click"],["svgIcon","mat_outline:add",1,"text-white"],[1,"font-semibold"],["role","status","class","p-5 animate-pulse",4,"ngIf"],[4,"ngIf"],[1,"w-full","overflow-auto","whitespace-nowrap","mt-5"],["matSort","","class","min-w-160",3,"dataSource",4,"ngIf"],[3,"pageSize","pageSizeOptions","showFirstLastButtons"],["role","status",1,"p-5","animate-pulse"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full","mb-[22px]"],[1,"h-6","bg-gray-300","rounded-full","dark:bg-gray-700","w-full"],[1,"flex","flex-col","items-center"],["src","icons/not-found.jpg","alt","not-found.jpg",1,"h-64","bg-cover","bg-center","object-scale-down"],[1,"mt-2","font-semibold","text-xl","-tracking-tighter"],["matSort","",1,"min-w-160",3,"dataSource"],["matColumnDef","id"],[4,"matHeaderCellDef"],["class","text-lg font-medium whitespace-nowrap",4,"matCellDef"],["matColumnDef","category_name"],["matColumnDef","products_name"],[4,"matCellDef"],["matColumnDef","action","n",""],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"text-lg","font-medium","whitespace-nowrap"],["mat-sort-header",""],["class","flex items-center",4,"ngIf"],[1,"flex","items-center"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-red-500","hover:cursor-pointer","hover:bg-red-600","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:trash",1,"text-white",2,"transform","scale(0.7)"],[1,"font-medium","mx-1","text-white","dark:text-white","bg-blue-500","hover:bg-blue-600","rounded","hover:underline",3,"click"],["svgIcon","heroicons_solid:pencil-square",1,"text-white",2,"transform","scale(0.7)"]],template:function(o,r){if(1&o){const s=t.RV6();t.j41(0,"section",2)(1,"div",3)(2,"div",4)(3,"h1",5),t.EFF(4,"Category"),t.k0s()(),t.j41(5,"div",6)(6,"button",7),t.bIt("click",function(){return t.eBV(s),t.Njj(r.addCategory())}),t.nrm(7,"mat-icon",8),t.j41(8,"span",9),t.EFF(9,"Add Category"),t.k0s()()()(),t.DNE(10,L,8,0,"div",10)(11,U,5,0,"div",11),t.j41(12,"div",12),t.DNE(13,Z,17,3,"mat-table",13),t.k0s(),t.nrm(14,"mat-paginator",14,0),t.k0s()}2&o&&(t.R7$(10),t.Y8G("ngIf",r.isLoading),t.R7$(),t.Y8G("ngIf",r.isNotDataFound&&!r.isLoading),t.R7$(2),t.Y8G("ngIf",!r.isNotDataFound&&!r.isLoading&&0!=r.dataSource.data.length),t.R7$(),t.Y8G("pageSize",10)("pageSizeOptions",t.lJ4(6,X))("showFirstLastButtons",!0))},dependencies:[u.MD,u.bT,w.Ou,w.iy,f.hM,c.tP,c.Zl,c.tL,c.ji,c.cC,c.YV,c.iL,c.KS,c.$R,c.YZ,c.NB,n.X1,y.fS,C.NQ,C.B4,C.aE,h.An,G.Cn,E.g7,n.YN,d.RG,x.X6,_.Ve,g.Sy,v.Hl,v.$z],styles:[".mat-mdc-form-field-subscript-wrapper[_ngcontent-%COMP%] {\n        display: none;\n    }"]})}}return a})();const tt=[{path:"",component:(()=>{class a{static{this.\u0275fac=function(o){return new(o||a)}}static{this.\u0275cmp=t.VBU({type:a,selectors:[["app-category"]],standalone:!0,features:[t.aNF],decls:2,vars:0,consts:[[1,"p-4","h-full","w-full"]],template:function(o,r){1&o&&(t.j41(0,"main",0),t.nrm(1,"app-table-category"),t.k0s())},dependencies:[q]})}}return a})()}]}}]);